<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Research - Team 35</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/35.png" rel="icon">
  <link href="assets/img/35.png" rel="icon2">
    
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Jost:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top header-inner-pages">
    <div class="container d-flex align-items-center">

      <h1 class="logo me-auto"><a href="index.html">Team 35</a></h1>
      <!-- Uncomment below if you prefer to use an image logo -->
      <!-- <a href="index.html" class="logo me-auto"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

      <nav id="navbar" class="navbar">
        <ul>
          <li class="dropdown"><a class="nav-link scrollto" href="index.html"><span>Intro</span> <i class="bi bi-chevron-down"></i></a>
            <ul>
              <li><a href="index.html#abstract">Abstract</a></li>
              <li><a href="index.html#skills">Project Statistics</a></li>
              <li><a href="index.html#features">Features</a></li>
              <li><a href="index.html#demo">Demo Video</a></li>
              <li><a href="index.html#mgmt">Project Management</a></li>
              <li><a href="index.html#team">Meet Our Team</a></li>
            </ul>
          </li>
            
          <li class="dropdown"><a class="nav-link scrollto" href="requirement.html"><span>Requirement</span><i class="bi bi-chevron-down"></i></a>
            <ul>
              <li><a href="requirement.html#requirement-gathering">Requirement Gathering</a></li>
              <li><a href="requirement.html#client-interview">Client Interviews</a></li>
              <li><a href="requirement.html#persona">Persona</a></li>
              <li><a href="requirement.html#use-cases">Use Cases</a></li>
              <li><a href="requirement.html#use-case-diagram">Use Case Diagram</a></li>
              <li><a href="requirement.html#moscow">MoSCoW list</a></li>
            </ul>
        </li>
            
        <li class="dropdown"><a class="nav-link scrollto active" href="research.html"><span>Research</span><i class="bi bi-chevron-down"></i></a>
            <ul>
              <li><a href="research.html#language">Programming Language</a></li>
              <li><a href="research.html#asterisk">Asterisk</a></li>
              <li><a href="research.html#stt">Speech-to-text solution</a></li>
              <li><a href="research.html#docker">Use Packaging the solution</a></li>
            </ul>
        </li>
            
        
        <li class="dropdown"><a class="nav-link scrollto" href="implementation.html"><span>Implementation</span><i class="bi bi-chevron-down"></i></a>
            <ul>
              <li><a href="implementation.html#diagram">System Architecture Diagram</a></li>
              <li><a href="implementation.html#api">API</a></li>
              <li><a href="implementation.html#ui">User Interface</a></li>
              <li><a href="implementation.html#docker">Packaging the solution</a></li>
              <li><a href="implementation.html#stt">Speech-to-text solution</a></li>
              <li><a href="implementation.html#asterisk">Asterisk Supporting Function</a></li>
            </ul>
        </li> 
        
        <li class="dropdown"><a class="nav-link scrollto" href="ui.html"><span>UI Design</span><i class="bi bi-chevron-down"></i></a>
            <ul>
              <li><a href="ui.html#menu">Menu & Home Page</a></li>
              <li><a href="ui.html#server-status">Server Status</a></li>
              <li><a href="ui.html#generate">Generate IVR</a></li>
              <li><a href="ui.html#add-voicefile">Add Recorded Voicefile</a></li>
              <li><a href="ui.html#analysis">Statistical Analysis</a></li>
              <li><a href="ui.html#sip-setting">SIP Trunk Setting</a></li>
            </ul>
        </li> 
            
        <li class="dropdown"><a class="nav-link scrollto" href="testing.html"><span>Testing</span><i class="bi bi-chevron-down"></i></a>
            <ul>
              <li><a href="testing.html#ts">Testing Strategy</a></li>
              <li><a href="testing.html#gct">General Code Testing</a></li>
              <li><a href="testing.html#at">Acceptance Testing</a></li>
              <li><a href="testing.html#ct">Compatibility Testing</a></li>
              <li><a href="testing.html#st">Stress Testing</a></li>
            </ul>
        </li> 
            
        <li class="dropdown"><a class="nav-link scrollto" href="evaluation.html"><span>Evaluation</span><i class="bi bi-chevron-down"></i></a>
            <ul>
              <li><a href="evaluation.html#summary">Summary of Achievements</a></li>
              <li><a href="evaluation.html#critical">Critical Evaluation</a></li>
              <li><a href="evaluation.html#future">Future Work</a></li>
            </ul>
        </li> 
            
        <li class="dropdown"><a class="nav-link scrollto" href="appendix.html"><span>Appendix</span><i class="bi bi-chevron-down"></i></a>
            <ul>
              <li><a href="appendix.html#deployment">Deployment Guide</a></li>
              <li><a href="appendix.html#user-manual">User Manual</a></li>
              <li><a href="appendix.html#legal">Legal Statement</a></li>
            </ul>
        </li> 
            
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->


  <main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <section id="breadcrumbs" class="breadcrumbs">
      <div class="container">

        <ol>
          <li><a href="index.html">Home</a></li>
          <li>Research</li>
        </ol>
        <h2>Research</h2>

      </div>
    </section><!-- End Breadcrumbs -->

      
      
    <!-- ======= About Us Section ======= -->
    <section id="abstract" class="abstract">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>Research Overview</h2>
        </div>

        <div class="row d-flex ">
          <div class="d-flex flex-column order-1">
            <p>
                After the initial meeting with our clients, we both agreed that it is more realistic to build the "ARI NLP tool" based on an exisiting open-source IVR framework considering the scale of the project. Besides, we are also looking for speech-to-text solutions in order to translate user's voice message to plain text, which will later be analysed by the IVR system and redirect the user to corresponding place.
            </p>
            <p>
                For each part, we would first conduct a related projects review and search for existing projects that are similar to our solution. After finding suitable solutions, we then conduct a technology review and compare each of the solution by its pros and cons - This includes the programming languages, frameworks and libraries we used throughout the process.
            </p>
            <p>
                To sum up, the main part of our research are the followings:
                <li><a href="research.html#language">Programming language</a></li>
                <li><a href="research.html#asterisk">Asterisk</a></li>
                <li><a href="research.html#stt">Speech-to-text solution</a></li>
                <li><a href="research.html#docker">Packaging the solution</a></li>
            </p>
          </div>
        </div>
      </div>
    </section>
      
      
    <section id="resources" class="cliens">
      <div class="container">
      <h4>Main technologies we adapted by our project</h4>
        <div class="row" data-aos="zoom-in">
          <div class="col-lg-4 d-flex align-items-center justify-content-center"><a href="https://www.asterisk.org/">
              <img src="assets/img/resources/asterisk-icon.png" class="img-fluid" alt=""></a>
          </div>

          <div class="col-lg-4 d-flex align-items-center justify-content-center"><a href="https://www.docker.com/">
              <img src="assets/img/resources/docker-icon.png" class="img-fluid" alt=""></a>
          </div>
            
          <div class="col-lg-4 d-flex align-items-center justify-content-center"><a href="https://www.twilio.com/">
              <img src="assets/img/resources/twilio-icon.png" class="img-fluid" alt=""></a>
          </div>     
        </div>
      </div>
    </section><!-- End Resources Section -->

    <section id="language" class="abstract section-bg">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>Programming language</h2>
        </div>
          
        

        <div class="row d-flex justify-content-center">
            
          <div class="d-flex flex-column order-1">
            <p>The programming language we used to write the program was Python. We used Python to write all our APIs that interface with Asterisk for two reasons. Firstly, one of our main clients, Joseph Connor, recommended that we use python for the project from the first few meetings we had with him. This was mostly because python has a very large number of useful libraries, due to a very strong and active community, and the ease of using PIP packages. Python also allows applications to be built relatively quickly, especially being a dynamically typed language. Seeing as the length of time to complete the project was not that long for the scope, this seemed like a good fit.</p>
              
            <p>Furthermore, and probably most importantly, python had libraries for almost all the speech to text libraries we wanted to try initially (Mozilla Deep Speech, IBM Watson etc). It also had stable libraries for text to speech and a very well written and documented libraries for interacting with the Asterisk AGI. These were all fundamental requirements for the solution to function properly, so python was a preferable option.</p>
              
            <p>When designing the UI, we looked at some other options such as JavaFX but we decided that it would be easier if we had a UI in the same programming language as the rest of the code, therefore allowing us to much easier package up the code later. We found PyQt5 had all the functionalities that we needed from a UI for our system and we therefore decided to use it (a python library for creating GUI applications).</p>
              
            <p>This meant the entire solution was written in python which not only makes it easier to write and maintain, but also allowed us to package up the application effectively later.</p>

          </div>
        </div>

      </div>
    </section><!-- End About Us Section -->

      
    <!-- ======= About Us Section ======= -->
    <section id="asterisk" class="abstract">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>Asterisk</h2>
        </div>

        <div class="row d-flex justify-content-center">
            <div class="col-lg-11 d-flex flex-column">
                <p>Asterisk is an open source software package that can be used to implement a PBX system.</p>
                <p>When we first discussed our project with one of our main clients, Joseph Connor, he expressed clearly that he wanted us to use an existing software package to create the IVR, instead of creating our own. We also knew that creating our own system to create a PBX or IVR could also likely add some major security vulnerabilities to the system, especially considering the time frame we were required to complete the project in.</p>
                <p>Initially we looked at using Twilio to create the IVR. This seemed like a very good solution and Twilio had some extremely useful, stable and easy to use libraries with python. Twilio would just charge for the time that the IVR was used. When discussing this solution with our client, we realised that one of the main issues was GDPR and that we would not be able to store the user’s voice on the cloud or GP call triage questions. Twilio is a cloud solution and therefore we discarded it as a solution that we could use, given the new requirement.</p>
                <p>We therefore started looking at some open source options to create an IVR that could be run locally. We found a couple of systems on GitHub, written by individuals and small groups. But these just did not have the functionalities or customisability that we needed for our requirements. We then found Asterisk, which could be used in the implementation of a PBX. Asterisk could also however be used to create an IVR system. Asterisk is fully open source, very stable and is in use by 1 million servers worldwide. This was perfect as it gave us the customisability and functionality that we needed as well as giving us the option to create an IVR system.</p>
                <p>For a first-time user, Asterisk is relatively complicated however and requires you to write the telephony system and settings in their own programming language, Dialplan. This took some time to learn properly, but after moving past this step, the system offered all the customisability that we needed for our requirements.</p>

            </div>
        </div>

      </div>
    </section><!-- End About Us Section -->
      

    <!-- ======= About Us Section ======= -->
    <section id="stt" class="abstract section-bg">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>Speech-to-text solution</h2>
        </div>

        <div class="row d-flex justify-content-center">
            
          <div class="col-lg-11 d-flex flex-column">
                <p>Speech to text is required during an IVR call, to detect whether a user said “yes” or “no”. A key requirement of the project was to do speech to text locally, not using a cloud service so that we comply with GDPR.</p>
              
                <p>We looked at a variety of options for, including IBM Watson, which although was a cloud solution our client thought this would be okay. We also looked at Mozilla DeepSpeech and finally at PocketSphinx. The main issue we found with Mozilla DeepSpeech was that it did not have a trained language model for 8kHz sample rate audio. Telephony audio is sampled at a rate of 8kHz, the main models trained with Mozilla DeepSpeech are 16 kHz and these proved to be extremely inaccurate for 8kHz audio using in telephone calls. We then looked at IBM Watson which does have an 8kHz model. This was much more accurate but for very short words such as “yes” and “no” it was a lot less accurate. This was an issue because we specially wanted to test for “yes” and “no” answers.</p>
              
                <p>We then finally looked at a software package called CMU Sphinx which is used for text to speech and can work locally. It also has a python library to work with it, called PocketSphinx. After doing a lot of research we also managed to find an 8 kHz sample rate language model that had been trained with PocketSphinx. One of the key benefits to CMU Sphinx is that you can set specific words for it to look for, therefore increasing the accuracy of the speech to text catastrophically. We did this by asking it to look at words such as “yes”, “no”, “nope”, “yeah”, “okay”, “sure” etc. By doing this we could create a much more accurate system for detecting whether a user said “yes” or “no”. When using Mozilla DeepSpeech, it seemed to get the right output only around “50%” of the time whereas PocketSphinx ended up being considerably more accurate than this.</p>
              
                <p>We did however find that there were issues when people with different accents and phones would talk to the system and PocketSphinx could be less accurate. We talk about how we dealt with this issue further in the Testing section of the site.</p>
          </div>
        </div>
      </div>
    </section><!-- End About Us Section -->   
      
      
<!-- ======= About Us Section ======= -->
    <section id="docker" class="abstract">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>Packaging solution</h2>
        </div>

        <div class="col-lg-11 d-flex flex-column">
            <h3 id="packaging-the-solution">Packaging the Solution</h3>
            <p>Later along the development process, our client made it clear that he would like it if the application could easily be installed and run by someone with a non-technical background. We knew this meant we would need to package up the solution effectively. The main issue we would have is packaging up Asterisk, since it usually has a moderately complicated setup process.</p>
            <p>We first looked at the possibility of packaging it in a standard package such as a “.deb” package or simple an executable file. However, we found some negatives with these solutions. The first is that it would not be able to run on different operating systems as Asterisk is only built to run on Linux operating systems. The second was that in order to get Asterisk working properly, some commands must be run on the host machine. This would require the user to run some commands to setup and potentially run Asterisk from the terminal. It was clear that this was not the desired solution that our client was looking for when discussing with him.</p>
            <p>We then researched into the possibility of running Asterisk in a Docker container. Although we found that this was possible, we initially found this very challenging, especially being quite unfamiliar with Docker. One of the main issues we faced was port forwarding. Asterisk uses a number of ports to communicate with routers and other devices on a network. In order to get this working, you must forward those ports from the host machine to the Docker container running Asterisk. With this we also found the router often wasn’t forwarding ports, which as with most networking bugs, was extremely difficult and time consuming to debug. There were many, many other issues associated with running Asterisk in Docker.</p>
            <p>After a large amount of effort (a major chunk of the total development time), we managed to get Asterisk running as we wanted in an Ubuntu Docker container and interfacing with the UI we had created separately. This almost perfectly fit the requirement our client had given us – Asterisk could be installed and run with a single Docker command. The only problem was that you still had to run the Docker command from the terminal.</p>
            <p>After developing this Docker solution, we realised that due to an ongoing issue with Docker port forwarding on Windows and OSX operating systems, our system would be insecure to run on Windows and Mac. It could however work on Windows and Mac. This was a difficulty we could not overcome as it is a current issue with Docker. It has been an issue ongoing for 5 years and the developers have recently put it on the roadmap, meaning it should hopefully be fixed later this year. This would mean it would be secure to run the application on Windows or Mac. As a specific operating system was not one of our requirements, we advised our client of this and he did not have an issue with it. The system would therefore still have to run on a Linux operating system until a new Docker version with the bug fix is released.</p>
            <p>Seeing as the current solution would have to be run on a Linux operating system (most likely Ubuntu) we decided to package the program, with the Docker image and the UI into a “.deb” package. This meant that there was a simple user interface to install the application and a desktop icon would be created on installation, making the program incredibly easy to run simply by clicking the application icon. This also allowed for us to install additional dependencies needed.</p>
            <p>We researched packaging up the UI. We could have simply put this in the “.deb” package as it was (a group of python files), installing all the python packages in the “.deb” program file. However, this meant we would be unable to control the python package version if python was already installed, proving quite inconvenient. We found a python software package called Pyinstaller. This allows you to run a simple command to package up a python file, and all relevant files and dependencies. After doing this, you get an executable file which we could simply place in the “.deb” file and run when the program starts. </p>
            <p>Initially we had two desktop icons, one to run the Asterisk docker container and another from running the UI. We found from our client and users that having two icons was quite confusing. As a solution, from the main UI, you can now build, start or stop the Asterisk Docker container, meaning we can just have a single desktop application and the docker command doesn’t have to be run by the user.</p>

        </div>

      </div>
    </section><!-- End About Us Section -->  
      
 
      
      
      
    <!-- ======= Frequently Asked Questions Section ======= -->
    <section id="ref" class="faq section-bg">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>Reference</h2>
        </div>
        
        <div class="">
            <p> [1] 	H. Benita, "Building an Interactive Voice Response (IVR) System with Python, Django and Twilio," 12 Feburary 2020. [Online]. Available: https://www.twilio.com/blog/building-interactive-voice-response-ivr-system-python-django-twilio. [Accessed 02 Dec 2020].</p>
            <p>[2] 	C. Wragg, "Building an IVR Demo with the Telnyx API and Python SDK," 27 July 2020. [Online]. Available: https://telnyx.com/resources/ivr-demo-python. [Accessed 13 Dec 2020].</p>
            <p>[3] 	D. Pocock, "Choosing between Asterisk and FreeSWITCH," in Real-Time Communications Quick Start Guide, 2015, p. Chapter 17. PBX Setup.</p>
            <p>[4] 	A. Jamous, "Twilio Alternatives in 2019 -2020," 13 January 2019. [Online]. Available: https://a-jamous.medium.com/twilio-alternatives-in-2019-f2c03b0b4d27. [Accessed 22 Feburary 2021].</p>
            <p>[5] 	M. Smith, "How to Build a Simple IVR with Java and the Spark Framework," 12 July 2019. [Online]. Available: https://www.nexmo.com/legacy-blog/2019/07/02/ivr-java-spark-framework-dr. [Accessed 02 Dec 2020].</p>
            <p>[6] 	P. Averin, "Voice Recognition Tools Review. Alexa, PocketSphinx, Google API or Project Oxford?," 4 April 2016. [Online]. Available: https://www.netguru.com/blog/voice-recognition-tools-review. [Accessed 12 Decemeber 2021].</p>
            <p>[7] 	G. B. Veton Z Këpuska, "Comparing Speech Recognition Systems (Microsoft API, Google API And CMU Sphinx)," International Journal of Engineering Research and Applications, no. 2248-9622(3wowo):20-24, 2017. </p>
            <p>[8] 	J. Simpson, "5 Best Speech-to-Text APIs," 28 March 2019. [Online]. Available: https://nordicapis.com/5-best-speech-to-text-apis/. [Accessed 06 Dec 2021].</p>
        </div>  
      </div>
    </section><!-- End Frequently Asked Questions Section -->
 
      

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">


    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-3 col-md-6 footer-contact">
            <h3>Team 35</h3>
            <p>
              COMP0016 System Engineering<br>
              Department of Computer Science <br>
              University College London <br>
            </p>
          </div>

          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Useful Links</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="https://www.asterisk.org/">Asterisk</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="https://pypi.org/project/pocketsphinx/">Pocketsphinx</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="https://www.docker.com/">Docker</a></li>
            <li><i class="bx bx-chevron-right"></i> <a href="https://www.twilio.com/">Twilio</a></li>

            </ul>
          </div>



          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Source Code</h4>
            <div class="social-links mt-3">
              <a href="https://github.com/UCLComputerScience/COMP0016_2020_21_Team35" class="GitHub"><i class="bx bxl-github"></i></a>
            </div>
          </div>

        </div>
      </div>
    </div>

    <div class="container footer-bottom clearfix">
      <div class="copyright">
        &copy; Copyright 2020-2021 <a href="https://chrisdai.com/">Chris Dai</a>. All Rights Reserved
      </div>
      <div class="credits">
        Template by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>